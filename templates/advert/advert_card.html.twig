<div class="bg-white dark:bg-gray-900 dark:text-white w-full rounded shadow flex flex-wrap card text-gray-900 mr-3 mb-2">
    <div class="w-full md:w-1/5">
        <a href="{{path('advert_show', {'id': advert.id})}}">
            {% set upload = advert.getRandomPhoto() %}
            {% if upload is null %}
            <img class="w-full p-3 h-62 md:h-52 rounded-l-sm" src="{{asset('images/feature.jpg')}}">
            {% else %}
            <img class="w-full p-3 h-auto md:h-52 rounded-l-sm" src="{{ vich_uploader_asset(upload) }}" alt="{{ advert.title }}">
            {% endif %}
        </a>
    </div>
    <div data-action="click->advert#catch_click" data-href="{{path('advert_show', {'id': advert.id})}}" class="w-full md:w-4/5 flex flex-col cursor-pointer">
        {% if is_granted('edit', advert) %}
        <div class="p-4 pb-3 md:pb-0 flex-1 w-full" data-href="{{path('advert_show', {'id': advert.id})}}">
            <div class="flex justify-between items-center mb-1">
                <a href="{{path('advert_show', {'id': advert.id})}}" class="w-5/6 font-medium text-gray-900 dark:text-white text-xl md:text-2xl truncate">{{advert.title}}</a>
                <div>
                    <div class="inline-block relative ">
                        <a onclick="toggleDD('menu-links_{{advert.id}}')" class="w-52 cursor-pointer drop-button text-gray-700 dark:text-gray-100 focus:outline-none text-xs md:text-sm inline-block flex items-center justify-end drop-button">
                            <div class="block">
                                <span class="no-pointer-event flex bg-deep-orange-600  text-white px-3 py-1 rounded font-semibold"> <span class="inline-block pr-2"> actions</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="border-l border-deep-orange-400 ml-2 h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg> </span>
                        </a>
                    </div>
                </div>
                <div id="menu-links_{{advert.id}}" role="menu" tabindex="0" class="dropdownlist invisible z-20 absolute w-52 mt-2 origin-top-right bg-white dark:bg-gray-800 dark:border-gray-700 divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">
                    <div class="px-1 py-1" role="none">
                        {# <button class="focus:outline-none hover:bg-deep-orange-800 hover:text-white text-gray-900 dark:text-gray-200 group flex rounded-md items-center w-full px-2 py-2 text-sm" role="menuitem" tabindex="-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z" clip-rule="evenodd" />
                            </svg>
                            Report
                        </button> #}
                        {% if is_granted('edit', advert) %}
                        <a href="{{path('advert_edit', {'id': advert.id})}}" class="focus:outline-none hover:bg-deep-orange-800 hover:text-white text-gray-900 dark:text-gray-200 group flex rounded-md items-center w-full px-2 py-2 text-sm" role="menuitem" tabindex="-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
                                <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />
                            </svg>
                            Edit
                        </a>
                        {{ include('advert/_delete_form.html.twig') }}
                        {% endif %}
                        {% if app.user %}
                        {# <button class="focus:outline-none hover:bg-deep-orange-800 hover:text-white text-gray-900 dark:text-gray-200 group flex rounded-md items-center w-full px-2 py-2 text-sm" role="menuitem" tabindex="-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z" />
                            </svg>
                            Bookmark
                        </button> #}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <div class="p-4 pb-3 md:pb-0 flex-1 w-full" data-href="{{path('advert_show', {'id': advert.id})}}">
            <div class="flex justify-between items-center mb-1">
                <a href="{{path('advert_show', {'id': advert.id})}}" class="w-5/6 font-medium text-gray-900 dark:text-white text-xl md:text-2xl truncate">{{advert.title}}</a>
            </div>
            {% endif %}
            <div data-href="{{path('advert_show', {'id': advert.id})}}" class="text-sm font-light flex items-center mb-4 flex-wrap">
                <div class="flex mr-5">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 dark:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    {{ advert.fullname}}
                </div>
                <div class="flex mr-5">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1 dark:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                    </svg>
                    {{advert.lga}}, {{ advert.state}}
                </div>
                <div class="flex mr-5">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1 dark:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                    </svg>
                    <a href="tel:123-456-7890">{{ advert.phone}}</a>
                </div>
                <div class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" />
                    </svg>
                    <a href="mailto:{{advert.email}}">{{ advert.email}}</a>
                </div>
            </div>
            <span class="has-tag block w-full text-md text-gray-600 dark:text-white truncate">{{ advert.description}}</span>
            <div class="tags mt-5 text-gray-600 dark:text-white text-sm italic">
                <span>{{ advert.createdAt|ago_date}}</span>
            </div>
            <div class="flex justify-between mt-4" data-href="{{path('advert_show', {'id': advert.id})}}">
                <div data-href="{{path('advert_show', {'id': advert.id})}}" class="flex static relative right-0 items-center  w-full">
                    <div class="mr-3 flex  items-center text-md text-gray-500 dark:text-gray-100">
                        <span> {{ advert.commentCount }}</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mx-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                    </div>
                    <div class="mr-3 flex items-center  text-md {% if advert.userLiked(app.user) %} text-deep-orange-600 {% else %}text-gray-500 dark:text-gray-100 {% endif %}">
                        <a {% if app.user %} data-action="click->advert#toggleLike" href="{{path("advert_like_toggle", {'id': advert.id, 'csrf': csrf_token('togglelike' ~ advert.id) })}}" {% endif %} data-numlikes="numlikes_{{advert.id}}" class="flex items-center">
                            <span class="no-pointer-event" id="numlikes_{{advert.id}}">{{advert.likes}}</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mx-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
                            </svg>
                        </a>
                    </div>
                    <div class="w-1/3 flex items-center text-md {% if advert.userDisLiked(app.user) %} text-deep-orange-600 {% else %}text-gray-500 dark:text-gray-100 {% endif %}">
                        <a {% if app.user %} data-action="click->advert#toggleDislike" href="{{path("advert_dislike_toggle", {'id': advert.id, 'csrf': csrf_token('toggledislike' ~ advert.id) })}}" {% endif %} data-numdislikes="numdislikes_{{advert.id}}" class="flex items-center">
                            <span class="no-pointer-event" id="numdislikes_{{advert.id}}">{{advert.unlikes}}</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mx-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5" />
                            </svg>
                        </a>
                    </div>
                </div>
                {% if advert.category.name == "sell" %}
                <div class="bg-regal-blue uppercase flex items-center rounded px-2 leading-tight  text-xs text-white font-semibold">
                    <span>Seller</span>
                </div>
                {% elseif advert.category.name == "buy" %}
                <div class="bg-green-700 uppercase flex items-center rounded px-2 leading-tight  text-xs text-white font-semibold">
                    <span>Buyer</span>
                </div>
                {% else %}
                <div class="bg-pink-700 uppercase flex items-center rounded px-2 leading-tight  text-xs text-white font-semibold">
                    <span>Service</span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>